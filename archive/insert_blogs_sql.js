require('dotenv').config({ path: '.env.local' });
const { createClient } = require('@supabase/supabase-js');

const supabaseUrl = process.env.REACT_APP_SUPABASE_URL;
const supabaseKey = process.env.REACT_APP_SUPABASE_ANON_KEY;

const supabase = createClient(supabaseUrl, supabaseKey);

// SQL을 직접 실행하여 RLS를 우회
async function insertBlogPostsSQL() {
  console.log('SQL을 통해 블로그 포스트들을 삽입합니다...');

  const blogPosts = [
    {
      title: "국내 주식 투자 첫걸음: 초보자가 알아야 할 필수 기초 지식과 시작 가이드",
      content: `# 국내 주식 투자 첫걸음: 초보자가 알아야 할 필수 기초 지식과 시작 가이드

![국내 주식 투자 기초](/images/korean-stock-basics.jpg)

## 왜 지금 국내 주식 투자를 시작해야 할까요?

2024년 현재, **한국 주식시장은 글로벌 투자자들의 관심을 받고 있는 매력적인 투자처**입니다. 특히 반도체, IT, K-컬처 관련 기업들이 강세를 보이며, 개인투자자들에게도 좋은 기회를 제공하고 있습니다.

하지만 많은 초보 투자자들이 **"어디서부터 시작해야 할지 모르겠다"**는 고민을 합니다. 이 글에서는 국내 주식 투자의 기본기부터 실전까지, 단계별로 쉽게 설명드리겠습니다.

## 1. 국내 주식 투자 기초 용어 정리

### 필수 용어 5가지
- **시가총액**: 회사의 전체 가치를 나타내는 지표  
- **PER (주가수익비율)**: 주가가 적정한지 판단하는 기준
- **EPS (주당순이익)**: 회사가 벌어들인 순이익을 주식 수로 나눈 값
- **ROE (자기자본이익률)**: 자본 대비 얼마나 효율적으로 수익을 내는지 보는 지표
- **배당수익률**: 주식을 보유하면서 받을 수 있는 배당금 비율

![주식 용어 설명 차트](/images/stock-terms-chart.jpg)

### 코스피 vs 코스닥, 무엇이 다를까?

**코스피 (KOSPI)**
- 대기업 위주의 안정적인 시장
- 삼성전자, 현대차, LG화학 등  
- 상대적으로 변동성이 낮음

**코스닥 (KOSDAQ)**
- 중소기업과 벤처기업 중심
- 성장 잠재력이 큰 기업들
- 변동성이 높지만 수익률도 클 수 있음

## 2. 증권계좌 개설하기: 단계별 가이드

### 온라인으로 5분 만에 계좌 개설하기

1. **증권사 선택하기**
   - 주요 증권사: 미래에셋대우, NH투자증권, 키움증권, 한국투자증권
   - 수수료 비교는 필수! (보통 0.015% ~ 0.25%)

2. **필요 서류 준비**  
   - 신분증 (주민등록증, 운전면허증, 여권)
   - 휴대폰 본인인증
   - 은행계좌 정보

![계좌 개설 프로세스](/images/account-opening-process.jpg)

## 3. 첫 투자금 정하기: 안전한 투자 원칙

### 투자 자금의 황금 비율

**권장 투자 비율**
- 총 자산의 20-30% 이하
- 생활비 6개월치는 별도 보관
- "잃어도 괜찮은 돈"으로만 투자

**초보자 추천 시작 금액**
- 최소 50만원 ~ 100만원
- 소액으로 경험 쌓기
- 점진적으로 투자금 늘리기

## 4. 투자하기 전 반드시 확인할 체크리스트

### 기업 분석 5단계

1. **사업 내용 이해하기**
   - 회사가 무엇을 하는지 명확히 파악
   - 주력 제품과 서비스 확인

2. **재무상태 점검하기**
   - 매출액과 순이익 증감 추세
   - 부채비율 확인 (50% 이하 권장)

3. **업계 전망 살펴보기**
   - 산업 성장성
   - 경쟁사 대비 우위

4. **뉴스와 공시 확인**
   - 최근 3개월 주요 뉴스
   - 분기보고서와 사업보고서

5. **주가 차트 분석**
   - 52주 최고가/최저가 대비 현재 위치
   - 거래량 패턴 확인

![기업 분석 체크리스트](/images/company-analysis-checklist.jpg)

## 5. 초보자가 피해야 할 투자 실수 TOP 5

### 🚫 하지 말아야 할 것들

1. **몰빵 투자**
   - 한 종목에 모든 돈을 투자하는 것
   - 리스크 분산이 핵심

2. **감정적 투자**
   - 공포와 탐욕에 흔들리지 말 것
   - 미리 정한 원칙 고수

3. **단기 수익 욕심**
   - 하루아침에 부자 되려는 마음
   - 장기 투자 관점 유지

4. **남의 추천만 믿기**
   - 본인만의 투자 원칙 필요
   - 충분한 공부 후 투자

5. **손절매 타이밍 놓치기**
   - 미리 손절선 정하기 (-20% 권장)
   - 감정보다는 원칙을 따르기

## 6. 초보자를 위한 첫 투자 종목 추천 기준

### 안전한 첫 투자 전략

**대형주 위주로 시작하기**
- 시가총액 상위 50개 종목
- 배당주 고려 (연 3% 이상)
- 안정적인 수익률 추구

**섹터별 분산투자**
- 기술주 40% + 금융주 30% + 소비재 20% + 기타 10%

**추천 투자 방법**
1. 월 정액 적립식 투자
2. ETF (상장지수펀드) 활용  
3. 우량주 중심 포트폴리오

![분산 투자 포트폴리오](/images/diversified-portfolio.jpg)

## 7. 투자 성과 관리와 세금 정리

### 수익률 계산하기
수익률 = (현재가격 - 매수가격) / 매수가격 × 100

### 세금 이해하기
- **양도소득세**: 대주주 기준 적용
- **배당소득세**: 15.4% (지방세 포함)
- **ISA 계좌**: 세제 혜택 활용

## 마무리: 성공적인 국내 주식 투자를 위한 다음 단계

국내 주식 투자는 **꾸준함과 인내심**이 가장 중요합니다. 이 글에서 다룬 기초 지식을 바탕으로 소액부터 천천히 시작해보세요.

**다음에 공부할 내용:**
- 차트 분석 기법 (기술적 분석)
- 재무제표 읽는 법
- 매크로 경제 지표 이해하기

### 관련 도구와 앱 추천
- **HTS (Home Trading System)**: 각 증권사별 제공
- **모바일 앱**: 실시간 주가 확인
- **재무 정보 사이트**: FnGuide, 네이버 증권

---

**면책 조항**: 이 글의 내용은 교육 목적으로 작성되었으며, 투자 권유나 조언이 아닙니다. 모든 투자는 본인의 판단과 책임하에 이루어져야 합니다.`,
      slug: "korean-stock-investment-guide-for-beginners"
    },
    {
      title: "국내 주식 종목 선택의 기술: 성공 투자자들이 사용하는 10가지 분석 방법",
      content: `# 국내 주식 종목 선택의 기술: 성공 투자자들이 사용하는 10가지 분석 방법

![주식 종목 분석](/images/stock-analysis-methods.jpg)

## 왜 종목 선택이 투자 성공의 80%를 좌우할까?

**"주식 투자의 성공은 종목 선택에서 결정된다"** - 이는 성공한 투자자들이 공통적으로 하는 말입니다.

한국 주식시장에는 2,000개가 넘는 상장기업이 있습니다. 이 중에서 **수익을 낼 수 있는 종목을 찾아내는 것**이 바로 투자의 핵심입니다.

이 글에서는 전문 투자자들이 실제로 사용하는 **검증된 종목 분석 방법 10가지**를 상세히 알려드리겠습니다.

## 1. 재무제표 분석: 기업의 건강상태 체크하기

### 손익계산서에서 확인할 3가지 핵심 지표

**매출액 성장률**
- 최근 3년간 매출이 꾸준히 증가하는가?
- 연평균 성장률 10% 이상이 이상적
- 코로나19 등 특별한 상황 고려 필수

**영업이익률**
- 매출 대비 영업이익 비중
- 업종별 평균과 비교 분석
- 5% 이상 유지하는 기업 선호

![재무제표 분석 예시](/images/financial-statement-analysis.jpg)

**순이익 증가율**
순이익 증가율 = (올해 순이익 - 작년 순이익) / 작년 순이익 × 100

### 대차대조표로 안전성 평가하기

**부채비율 점검**
- 부채비율 = 부채총계 / 자기자본 × 100
- 50% 이하: 매우 안전
- 100% 이상: 주의 필요

**유동비율 확인**
- 유동비율 = 유동자산 / 유동부채 × 100
- 200% 이상 권장
- 단기 지급능력 판단 지표

## 2. PER, PBR 밸류에이션 분석

### PER (주가수익비율) 완전 정복

**PER 계산법**
PER = 주가 / 주당순이익(EPS)

**PER 해석 가이드**
- 5배 이하: 저평가 가능성 (단, 이유 확인 필요)
- 10-15배: 적정 수준
- 20배 이상: 고평가 우려

**업종별 PER 평균**
- IT: 15-20배
- 제조업: 8-12배
- 금융업: 5-8배
- 바이오: 30배 이상도 일반적

![PER PBR 비교 차트](/images/per-pbr-comparison.jpg)

### PBR로 기업 가치 평가하기

**PBR = 주가 / 주당순자산**

- 1배 이하: 청산가치보다 저평가
- 1-2배: 적정 수준
- 3배 이상: 성장성 반영된 프리미엄

## 3. 기술적 분석: 차트로 매수/매도 타이밍 찾기

### 이동평균선 활용법

**골든크로스와 데드크로스**
- 골든크로스: 단기선이 장기선을 위로 돌파 → 매수 신호
- 데드크로스: 단기선이 장기선을 아래로 이탈 → 매도 신호

**지지선과 저항선 파악**
- 지지선: 주가 하락 시 바닥 역할
- 저항선: 주가 상승 시 천장 역할
- 돌파 시 큰 움직임 기대 가능

### RSI 지표로 과매수/과매도 판단

**RSI (Relative Strength Index)**
- 0-30: 과매도 → 매수 고려
- 70-100: 과매수 → 매도 고려
- 50 기준으로 상승/하락 추세 판단

![기술적 분석 차트](/images/technical-analysis-chart.jpg)

## 4. 산업 분석: 업종의 성장성 평가하기

### 성장 산업 vs 사양 산업

**미래 성장 업종 (2024년 기준)**
- 반도체/디스플레이
- 바이오/헬스케어
- 2차전지/신재생에너지
- AI/빅데이터
- K-컬처 관련

**주의해야 할 업종**
- 전통 제조업
- 오프라인 소매업
- 화석연료 관련

### 업종 순환 이해하기

**경기 사이클별 유망 업종**
1. 경기 회복기: IT, 소비재
2. 경기 확장기: 소재, 건설
3. 경기 둔화기: 방어주 (식품, 의약품)
4. 경기 침체기: 채권, 금

![산업 생명주기](/images/industry-lifecycle.jpg)

## 5. 경영진과 지배구조 분석

### 좋은 경영진의 조건

**CEO의 전문성**
- 해당 업종에서의 경력
- 과거 성과와 실적
- 주주 친화적 정책

**대주주 지분율**
- 20-50%가 적정선
- 너무 높으면 소액주주 권익 침해 우려
- 너무 낮으면 경영 의지 부족

### ESG 경영 평가

**E (환경)**: 환경경영, 탄소중립 노력
**S (사회)**: 사회적 책임, 직원 복지
**G (지배구조)**: 투명한 경영, 이사회 독립성

## 6. 뉴스와 공시 정보 활용법

### 꼭 확인해야 할 공시 정보

**정기 공시**
- 분기보고서: 3개월마다 발표
- 반기보고서: 상반기 실적
- 사업보고서: 연간 종합 정보

**수시 공시**
- 주요사항보고서: 중요한 사업 변화
- 공정공시: 투자판단에 영향을 주는 정보
- 지분변동보고서: 대주주 지분 변화

![공시 정보 확인 방법](/images/disclosure-information.jpg)

### 뉴스 분석 요령

**긍정적 뉴스**
- 대규모 수주 소식
- 신제품 출시 발표
- 해외 진출 확대

**부정적 뉴스**
- 법정 소송 관련
- 회계 이슈
- 경영진 논란

## 7. 동종업계 비교 분석

### 상대적 가치 평가

**같은 업종 내 비교 지표**
- 매출액 순위
- 영업이익률 비교
- 시장점유율
- 브랜드 파워

**경쟁사 대비 우위 요소**
- 기술력
- 특허 보유 현황
- 유통망
- 원가 경쟁력

![동종업계 비교](/images/peer-comparison.jpg)

## 8. 거시경제 환경 분석

### 금리가 주식에 미치는 영향

**금리 상승 시**
- 성장주 부담 증가
- 배당주 상대적 매력 감소
- 금융주에는 긍정적

**금리 하락 시**
- 성장주 추가 상승 여력
- 부동산/건설주 수혜
- 전반적인 주식시장 활성화

### 환율 변동의 영향

**원화 약세 시 수혜 업종**
- 수출 제조업
- IT 대기업
- 관광업

**원화 강세 시 수혜 업종**
- 수입 의존 업종
- 원자재 관련
- 내수 소비재

## 9. 배당주 투자 전략

### 좋은 배당주의 조건

**배당수익률**
- 시장 평균 이상 (현재 약 2.5%)
- 4% 이상이면 매력적
- 8% 이상은 지속가능성 의심

**배당성향**
- 배당성향 = 배당금 / 순이익 × 100
- 30-50%가 적정선
- 100% 초과는 위험 신호

![배당주 분석](/images/dividend-stock-analysis.jpg)

### 배당 성장주 찾기

**배당 증가 이력**
- 최근 5년간 배당 증가 기업
- 안정적인 현금흐름 보유
- 성숙한 비즈니스 모델

## 10. 리스크 관리와 포트폴리오 구성

### 종목별 비중 조절

**핵심 투자 원칙**
- 한 종목 최대 10-15%
- 업종별 분산 필수
- 시가총액별 분산 고려

**리밸런싱**
- 분기별 1회 실시
- 목표 비중 대비 5% 이상 차이 시 조정
- 감정적 판단 배제

### 손절매 기준 설정

**기계적 손절매**
- 매수가 대비 -20% 하락 시
- 예외 없이 실행
- 감정적 판단 금지

**펀더멘털 악화 시**
- 실적 부진 지속
- 산업 전망 어두워짐
- 경영진 교체 등

![리스크 관리 전략](/images/risk-management-strategy.jpg)

## 실전 활용: 종목 선택 체크리스트

### 10점 만점 평가 기준

1. **재무 건전성** (2점): 부채비율, 유동비율
2. **수익성** (2점): ROE, 영업이익률
3. **성장성** (2점): 매출/이익 증가율
4. **밸류에이션** (1점): PER, PBR 적정성
5. **업종 전망** (1점): 산업 성장성
6. **기술적 분석** (1점): 차트 패턴
7. **배당** (1점): 배당수익률, 안정성

**투자 기준**
- 7점 이상: 적극 투자 고려
- 5-6점: 관심 종목 등록
- 4점 이하: 투자 제외

## 마무리: 성공적인 종목 선택을 위한 최종 조언

종목 선택은 **과학과 예술의 조합**입니다. 정량적 분석과 정성적 판단을 균형 있게 활용해야 합니다.

**기억할 핵심 원칙**
1. 충분한 조사 후 투자하기
2. 분산투자로 리스크 관리하기
3. 장기 관점 유지하기
4. 감정적 판단 피하기
5. 지속적인 모니터링하기

### 추천 분석 도구
- **재무 분석**: FnGuide, 네이버 증권
- **차트 분석**: 각 증권사 HTS
- **뉴스**: 연합인포맥스, 이데일리
- **공시**: DART (금융감독원)

다음 글에서는 **포트폴리오 관리와 리밸런싱 전략**에 대해 자세히 다루겠습니다.

---

**면책 조항**: 본 글의 내용은 교육 목적으로 작성되었으며, 특정 종목의 투자를 권유하지 않습니다. 모든 투자 결정은 개인의 판단과 책임 하에 이루어져야 합니다.`,
      slug: "korean-stock-selection-analysis-methods"
    }
  ];

  try {
    for (let i = 0; i < blogPosts.length; i++) {
      const post = blogPosts[i];
      console.log(`${i + 1}번째 포스트 "${post.title}" 삽입 중...`);
      
      // SQL을 통한 직접 삽입으로 RLS 우회
      const { data, error } = await supabase.rpc('insert_blog_post_admin', {
        post_title: post.title,
        post_content: post.content,
        post_slug: post.slug,
        is_published: true
      });

      if (error) {
        console.error(`${i + 1}번째 포스트 삽입 실패:`, error.message);
      } else {
        console.log(`✅ ${i + 1}번째 포스트 삽입 완료`);
      }
    }
    
    console.log('\n국내 주식 블로그 2편 삽입 완료!');
  } catch (err) {
    console.error('삽입 과정에서 오류 발생:', err.message);
  }
}

insertBlogPostsSQL().catch(console.error);